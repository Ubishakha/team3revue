{"version":3,"sources":["webpack:///./src/views/User.vue","webpack:///./src/components/TopArtists.vue","webpack:///./src/components/TopArtists.vue?d56c","webpack:///./src/views/User.vue?6522","webpack:///./src/views/User.vue?48b4","webpack:///./src/services/PostsService.js","webpack:///./src/components/TopArtists.vue?f708"],"names":["class","src","hashedEmail","username","connectToSpotify","artists","item","index","key","showWordIndex","images","url","alt","width","height","href","external_urls","spotify","name","data","mounted","fetch","this","method","headers","$store","state","token","mode","credentials","body","JSON","stringify","then","response","json","items","console","log","catch","error","render","__scopeId","components","PreviousTracks","TopArtists","$route","params","posts","fetchData","watch","methods","UsersService","PostsService","user","e","window","open","removDupes","arr","uniqueChars","Set","Api","get","create","post","delete","id","addComment","postId","commentContent","content","upVote","downVote"],"mappings":"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","file":"js/user.752f86ee.js","sourcesContent":["<template lang=\"html\">\n  <div class=\"user\">\n\n    <div class=\"container\">\n      <div>\n        <h1>Top 10 Tracks</h1>\n          <PreviousTracks/>\n      </div>\n      <div>\n        <h1>Top 10 Artists</h1>\n        <TopArtists/>\n      </div>\n    </div>\n            \n            <!-- <FriendQueue class=\"main-child\" :friendQueue=\"friendQueue\" /> This is the list of friend's currently playing songs -->\n          \n\n    <div class=\"info\">\n      <img :src=\"'https://www.gravatar.com/avatar/' + this.hashedEmail + '?s=200'\" />\n      <h1>{{ username }}</h1>\n      <button class=\"spotify-button\" @click=\"connectToSpotify\">Connect to Spotify</button>\n    </div>\n\n    \n  </div>\n</template>\n\n<script>\nimport TopArtists from '@/components/TopArtists'\n// import CreateButton from '@/components/CreateButton'\nimport PostsService from '@/services/PostsService'\nimport UsersService from '@/services/UsersService'\nimport PreviousTracks from '@/components/PreviousTracks'\n\nexport default {\n  name: 'user',\n\n  components: { PreviousTracks, TopArtists},\n\n  data() {\n    return {\n      username: this.$route.params.username,\n      url: process.env.VUE_APP_API_ENDPOINT + \"/spotlogin\",\n      posts: [],\n      hashedEmail: ''\n    }\n  },\n\n  mounted() {\n    this.fetchData()\n  },\n\n  watch: {\n    $route() {\n      this.username = this.$route.params.username\n      this.fetchData()\n    }\n  },\n\n  methods: {\n    fetchData() {\n      UsersService.username(this.username)\n        .then(response => {\n          this.hashedEmail = response.data.hashedEmail\n        })\n\n      PostsService.user(this.username)\n        .then(response => {\n          this.posts = response.data\n        })\n        .catch(e => {\n          this.error = e.response.data.error\n        })\n    }, \n    connectToSpotify(){\n      // alert(this.username);\n      fetch(this.url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `JWT ${this.$store.state.token}`\n        },\n        mode: 'cors',\n        credentials: 'include',\n        body: JSON.stringify(this.username),\n        \n        })\n        .then(response => response.json())\n        .then(data => {\n          console.log('Success:', data);\n          window.open(data);\n        })\n        .catch((error) => {\n          console.error('Error:', error);\n        });\n      },\n      removDupes(arr){\n        let uniqueChars = [...new Set(arr)];\n\n        console.log(uniqueChars);\n      },\n  }\n}\n</script>\n\n<style lang=\"css\">\n.container {\n  width: 80%;\n  float: left;\n  color: aliceblue;\n}\n\n.info {\n  width: 20%;\n  float: right;\n  padding-top: 20px;\n}\n\n.info img {\n  display: block;\n  margin: 0 auto;\n}\n\n.button {\n  background: blue;\n  display: inline;\n  padding: 10px 20px;\n}\n\n.post-preview:first-of-type {\n  margin-top: 25px;\n}\n\n.spotify-button{\n    display: inline-block;\n    padding: 0.7em 1.7em;\n    margin: 0 0.3em 0.3em 0;\n    border-radius: 0.2em;\n    box-sizing: border-box;\n    text-decoration: none;\n    box-shadow:inset 0 -0.6em 1em -0.35em rgba(0, 0, 0, 0.17),inset 0 0.6em 2em -0.3em rgba(255,255,255,0.15),inset 0 0 0em 0.05em rgba(255, 255, 255, 0.014);\n    font-family:'Avenir', Helvetica, Arial, sans-serif;\n    font-weight:bolder;\n    font-size: 16px;\n    color: #0c0c0c;\n    background-color: #e6e9e7;\n}\n\n.spotify-button:hover{\n    box-shadow:inset 0 0.6em 2em -0.3em rgba(0, 0, 0, 0.15),inset 0 0 0em 0.05em rgba(255, 255, 255, 0.12);\n}\n</style>\n","<template lang=\"html\">\n  <div class=\"top-artists\">\n        <div v-for=\"(item, index) in artists\" v-bind:key=\"index\">\n            <div @mouseover=\"showWordIndex = index\" @mouseout=\"showWordIndex = null\" class=\"row tracks\">\n                <span class=\"idx\">{{index+1}}</span>\n                <img :src=\"item.images[1].url\" alt=\"\" width=\"40\" height=\"40\">\n                <div class=\"artist-info\">\n                    <a v-bind:href=\"item.external_urls.spotify\">\n                            <span class=\"artist-name\">{{item.name}}</span>\n                    </a>\n                    <!-- <div class=\"grid\">\n                            <aside class=\"artist-name\">\n                                <a v-bind:href=\"item.track.artists[0].external_urls.spotify\">\n                                    {{item.track.artists[0].name}}\n                                    </a>\n                            </aside>\n                                \n                            <aside class=\"dot\">\n                                <span class=\"album-name\">\n                                    <a v-bind:href=\"item.track.album.external_urls.spotify\">\n                                        {{item.track.album.name}}\n                                    </a>\n                                </span>\n                            </aside>\n                    </div> -->\n                    \n                </div>\n            </div>\n        </div>\n  </div>\n</template>\n\n<script>\n// import Spotify from '@/services/Spotify'\n// import spot from '../json/prev-tracks.json'\n\nexport default {\n    name: 'top-artists',\n    \n    data() {\n    return {\n      artists: {},\n      showWordIndex: null,\n      url: process.env.VUE_APP_API_ENDPOINT + \"/artists\"\n    };\n  },\n    mounted(){\n        fetch(this.url, {\n            method: 'POST',\n            headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `JWT ${this.$store.state.token}`,\n            },\n            mode: 'cors',\n            credentials: 'include',\n            body: JSON.stringify(this.username),\n            })\n            .then(response => response.json())\n            .then(data => {\n                // let arr = data.items\n                // let uniqueArtists = new Map()\n                \n                // arr.forEach(element => {\n                    \n                //     if (!uniqueTracks.has(element.track.id)){\n                //     uniqueTracks[element.track.id] = element\n                //     }\n                // });\n\n                this.artists = data.items\n                console.log('Success:', data.items);\n            })\n            .catch((error) => {\n            console.error('Error:', error);\n        });\n    },\n\n}\n\n    \n</script>\n\n<style scoped>\n.tracks:hover {\n    background-color: rgba(167, 165, 165, 0.281);\n}\n.top-artists{\n    overflow: auto;\n    max-height: 200px;\n    background-color: #181818;\n    color: aliceblue;\n}\n strong{\n     font-size: 1.05em;\n     padding: 0.5em;\n }\n.tracks{\n    display: grid;\n    padding: 0.5em;\n    margin-left: 2em;\n    grid-template-columns: 3rem 10% 2fr\n}\n.artist-info {\n    padding-left: 0.5em;\n    display: flex;\n    flex-direction: column;  \n} \n span{\n     display: inline-block;\n }\n\n a{\n     color: inherit;\n }\n\n li{\n     list-style-type: none;\n     padding: 0.5em;\n }\n.artist-name{\n    font-weight: bold;\n}\n.track-name:hover, .artist-name:hover, .album-name:hover{\n color: #43af55;\n}\n.dot{\n    display: list-item;          /* This has to be \"list-item\"                                               */\n    list-style-type: disc;       /* See https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-type     */\n    list-style-position: inside;\n}\n.grid{\n    display: grid;\n    grid-template-columns: 150px auto 60px;\n    \n}\n\naside{\n    display: flex;\n    align-items: left;\n    /* justify-content: center; */\n}\n</style>\n","import { render } from \"./TopArtists.vue?vue&type=template&id=796aebc2&scoped=true&lang=html\"\nimport script from \"./TopArtists.vue?vue&type=script&lang=js\"\nexport * from \"./TopArtists.vue?vue&type=script&lang=js\"\n\nimport \"./TopArtists.vue?vue&type=style&index=0&id=796aebc2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-796aebc2\"\n\nexport default script","import { render } from \"./User.vue?vue&type=template&id=4120be92&lang=html\"\nimport script from \"./User.vue?vue&type=script&lang=js\"\nexport * from \"./User.vue?vue&type=script&lang=js\"\n\nimport \"./User.vue?vue&type=style&index=0&id=4120be92&lang=css\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./User.vue?vue&type=style&index=0&id=4120be92&lang=css\"","import Api from '@/services/Api'\n\nexport default {\n  index() {\n    return Api().get('posts')\n  },\n\n  create(post) {\n    return Api().post('posts', post)\n  },\n\n  delete(id) {\n    return Api().delete('posts/id/' + id)\n  },\n\n  item(id) {\n    return Api().get('posts/id/' + id)\n  },\n\n  user(username) {\n    return Api().get('posts/user/' + username)\n  },\n\n  addComment(postId, commentContent) {\n    return Api().post('posts/' + postId + '/comments', { content: commentContent })\n  },\n\n  upVote(postId) {\n    return Api().post('posts/' + postId + '/upvote')\n  },\n\n  downVote(postId) {\n    return Api().post('posts/' + postId + '/downvote')\n  }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TopArtists.vue?vue&type=style&index=0&id=796aebc2&scoped=true&lang=css\""],"sourceRoot":""}